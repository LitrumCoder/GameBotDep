# Telegram Game Bot

Telegram бот для игры, написанный на C# с использованием ASP.NET Core.

## Установка и запуск

### Локальный запуск

1. Установите [.NET 8.0 SDK](https://dotnet.microsoft.com/download)
2. Клонируйте репозиторий:
```bash
git clone https://github.com/LitrumCoder/GameBotDep.git
cd GameBotDep
```
3. Настройте конфигурацию в `appsettings.json` или через переменные окружения:
   - `BOT_TOKEN` - токен вашего бота от @BotFather
   - `BASE_URL` - URL вашего сервера (для локальной разработки можно использовать ngrok)

4. Запустите приложение:
```bash
dotnet run
```

### Запуск на Replit

1. Создайте новый repl, импортировав этот репозиторий
2. В разделе "Secrets" добавьте переменную окружения:
   - Ключ: `BOT_TOKEN`
   - Значение: токен вашего бота от @BotFather
3. Нажмите кнопку "Run"

## Доступные команды

- `/start` - Начать игру
- `/help` - Показать список доступных команд

## Разработка

Проект использует:
- .NET 8.0
- Telegram.Bot 19.0.0
- ASP.NET Core для обработки webhook'ов

## Структура проекта

- `Program.cs` - Точка входа приложения и конфигурация
- `Services/GameService.cs` - Основная логика бота
- `Controllers/WebhookController.cs` - Обработка webhook'ов от Telegram
- `appsettings.json` - Конфигурация приложения

## Основные технологии

- ASP.NET Core Web API
- Telegram.Bot
- C#

## Базовая структура

- Controllers/WebhookController.cs — приём webhook от Telegram и делегирование события в сервис игр.
- Services/GameService.cs — центральная обработка игровых механик, маршрутизация игровых событий.
- Services/UserService.cs — работа с пользователями, баланс, история.
- Будущие игровые модули будут располагаться внутри папки Services/Games.

## Планируемые игровые механики

- Угадывание числа на виртуальном колесе (1-36)
- Открытие боксов с призами
- Ставка "Орёл/Решка" с коэф. 2x
- Поиск сокровищ на сетке 5x5
- Crash game (динамический множитель)
- Анимация выплат и взаимодействие со стикерами

---

Проект легко масштабируется — каждый модуль реализуем как отдельный сервис/класс внутри Services/Games.